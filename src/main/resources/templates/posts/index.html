<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head lang="en">
    <meta charset="UTF-8" />
    <title>Acebook</title>
    <link rel="stylesheet" href="/main.css" />
    <!-- <link rel="stylesheet" href="/navbar.css" />  -->
    <script src="https://kit.fontawesome.com/1afd8264a8.js" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    <div th:replace="navbar/navbar :: nav"></div>
        <u>
            <h1>Acebook Posts</h1>
         </u>
         <!--the three divs of the main content: sidebar-->
    <div class="main_body">
     
        <div class="sidebar">
            <div class="sidebarRow">
                User:&nbsp; <div sec:authentication="name"></div>
            </div>

            <div class="sidebarRow">
                <span class="material-icons"> people </span>
                <h4>people</h4>
            </div>

            <div class="sidebarRow">
                <span class="material-icons"> chat </span>
                <h4>messenger</h4>
            </div>

            <div class="sidebarRow">
                <a href="https://www.amazon.com"><span class="material-icons"> storefront </span></a>
                <h4>marketplace</h4>
            </div>

            <div class="sidebarRow">
                <a href="https://www.youtube.com"> <span class="material-icons"> video_library</span></a>
                <h4>videos</h4>
            </div>
        </div>
                        <!-- </div> -->
    
                        <!-- list of posts from users plus image -->
    
            <div class="main-content">
                <div class="search-form">
                    <form action="#" th:action="@{/posts}" th:object="${post}" method="post">
                        <a class="tooltip active" data-tooltip="Home" href="#" id="home"> <i class="fa-solid fa-house"></i> </a>
                        <p>Content: <input type="text" th:field="*{content}" /></p>
                        <p>Search: <input type="text" name="search" th:value="${search}" /></p>
                        <p>Date: <input type="date" name="date" id="date" th:value="${date}" /></p>
                        <p><input type="submit" value="Submit" /> <input type="reset" value="Reset" /></p>
                          
                        <div class="form-content">
                            <div class="post-input-container">
                                <textarea rows="5" placeholder="What's on your mind, Makers?"></textarea>
                            </div>
                        </div> 
                    </form>
                </div>
            </div>

    </div>
                                     <!-- where the posts are starting: -->
                <div class="post_image">


                    <div class="posts" th:each="post: ${posts}">
                            <img  th:src="@{${user.photosImagePath}}" alt="No Profile Pic uploaded" />
                        <li class="text-posts">
                            <div th:text="${post.content}"></div></h4> 
                            Posted by:<div th:text="${post.username}"></div>
                            at:<div th:text="${#dates.format(post.createdDate, 'dd-MMM-yyyy')}">
                         

                        </li>
                    </div>
                            <div class="post_option"> 
                              
                                <span class="material-icons"> </span> 

                          
                                <!-- <form action="#" th:action="@{/likes}" method="post">
                                    <input type="button" value="thumbs-up">  
                                    <input type="hidden" name="post_id" th:value="${post.id}">
                                    <input type="hidden" name="username" th:value="${#authentication.name}">
                                    <button><input type="submit" value="Like" /></button>
                                </form>
                           -->
                            </div>  
                        </div>
                        <div class="post_options">
                           
                        </div> 
                    </div>       
                </div>
            </div>
   
    </body>
</html>

<!-- 
     <ul id="post-list" th:each="post: ${posts}">
        <div th:text="${post.content}" ></div>
        Posted By: <div th:text="${post.username}" ></div>
        at: <div th:text="${#dates.format(post.createdDate, 'dd-MMM-yyyy')}" ></div>
        </div>   -->

        <!--   <ul th:each="post: ${posts}">
        <li th:text="${post.content}" />
        <ul th:each="like: ${likes}">
            li th:if="${like.post_id == post.id}">You Liked This!</li>
        </ul>
        <form action="#" th:action="@{/likes}" method="post">
            <input type="hidden" name="post_id" th:value="${post.id}">
            <input type="hidden" name="username" th:value="${#authentication.name}">
            <input type="submit" value="Like" />
        </form>
    </ul>-->

    <!-- </ul> -->